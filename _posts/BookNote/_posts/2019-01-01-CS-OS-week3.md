---
layout: post
title: week1 进程线程模型
date:   2019-03-26
categories: ["Operating Systems"]  
---   

[操作系统原理笔记](https://www.coursera.org/learn/os-pku/home/week/1)  

# 1、进程的基本概念   

![_config.yml]({{ site.baseurl }}/images/88OS/image91.png)   

从多道程序设计技术这个概念入手进程的基本概念，多道程序设计技术是操作系统最早引入的软件技术

![_config.yml]({{ site.baseurl }}/images/88OS/image92.png)   

第一张图内存里头有四个程序，因为我们只有一个物理的程序计数器，这四个程序是串形执行的，A 程序执行完了， B 程序才能执行   

有了多道程序设计技术之后就得到了这样一个场景，每个程序变换成了一个独立的控制流，占用一个逻辑的程序计数器，这也是操作系统虚拟性的一个体现，把一个物理的程序计数器变换成多个逻辑的程序计数器，实际上每个程序都有自己的程序计数器，那么由于物理上只有一个程序计数器，所以每个程序真正的上CPU，要把逻辑程序计数器的内容推送到物理程序计数器里头，那么通过这种变换达到了在内存中同时有多个程序，达到能够并发执行的效果    

第三张图表示出在一个时间间隔内，每一个程序 A B C D 都执行过了，由于只有一个物理 CPU 所以这些程序是轮流在 CPU 上执行，但是呢从宏观上讲它们都在并发执行。应如何管理在并发环境下同时执行的这些程序？  

![_config.yml]({{ site.baseurl }}/images/88OS/image93.png)   

来看几个并发程序的例子，A和B并发，或B和A并发，前两个例子当中，实际上它们都有一些交错的、 重叠的部分。后面两个例子到A执行完了B才执行 或B执行完了A才执行，由于这两个程序的执行顺序是不可预测的 所以这两种情况都可能在系统中发生。如何刻画在一个并发环境下执行的并发程序？  

![_config.yml]({{ site.baseurl }}/images/88OS/image94.png)  

进程是程序的一次执行过程，一个程序执行了两次，执行了三次，那就是不同的进程。  

进程是运行程序的一个抽象 它代表了所运行的那个环境，也就是它代表了一个 CPU ，因此有时候说进程是对 CPU 的一个抽象 正是因为有了虚拟化技术，所以将一个 CPU 把它变换成多个虚拟的 CPU，每个进程好像都在自己的 CPU 上跑，这就是一个抽象的结果。作为进程，它在运行过程中需要各种各样的资源，所以操作系统的资源是以进程为单位来分配的，比如说内存、文件等等。 最重要的一个资源是地址空间，操作系统为每一个进程分配了一个独立的地址空间。  

操作系统把CPU的控制权交给了某一个进程，让这个进程去运行，那么这就称之为一个调度。所以操作系统通过调度把 CPU 的控制权交给某个进程    

可以通过 Windows 下任务管理器，或者是在 linux 下用 PS 命令，我们就大概知道系统中有多少个进程在运行     